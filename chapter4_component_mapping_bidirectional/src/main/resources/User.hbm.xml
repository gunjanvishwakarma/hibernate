<?xml version="1.0"?>
<!-- chapter4_component_mapping_bidirectional -->
<!DOCTYPE hibernate-mapping SYSTEM" http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd" >
<hibernate-mapping package="com.gunjan">
    <class name="User" table="USER">
        <id name="id" type="long" column="USER_ID">
            <generator class="native"/>
        </id>
        <property name="name"><column name="NAME"/></property>
        <component name="homeAddress" class="Address">
            <parent name="user"/> <!-- for bidirectional component mapping -->
            <property name="street" type="string" column="HOME_STREET" not-null="true"/>
            <property name="zipcode" type="string" column="HOME_ZIPCODE" not-null="true"/>
            <property name="city" type="string" column="HOME_CITY" not-null="true"/>
        </component>
        <component name="billingAddress" class="Address">
            <parent name="user"/> <!-- for bidirectional component mapping Address.getUser()
            act as back pointer you can navigate from address to user -->
            <property name="street" type="string" column="BILLING_STREET" not-null="true"/>
            <property name="zipcode" type="string" column="BILLING_ZIPCODE" not-null="true"/>
            <property name="city" type="string" column="BILLING_CITY" not-null="true"/>
        </component>
    </class>
</hibernate-mapping>

<!--create table USER (
    USER_ID bigint generated by default as identity,
    NAME varchar(255),
    HOME_STREET varchar(255) not null,
    HOME_ZIPCODE varchar(255) not null,
    HOME_CITY varchar(255) not null,
    BILLING_STREET varchar(255) not null,
    BILLING_ZIPCODE varchar(255) not null,
    BILLING_CITY varchar(255) not null,
    primary key (USER_ID)
)-->
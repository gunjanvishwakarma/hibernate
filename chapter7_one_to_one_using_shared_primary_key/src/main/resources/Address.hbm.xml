<?xml version="1.0"?>
<!-- chapter7_one_to_one_using_shared_primary_key -->
<!DOCTYPE hibernate-mapping SYSTEM "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="com.gunjan">
    <class name="Address" table="ADDRESS">
        <id name="id" type="long" column="ADDRESS_ID">
            <generator class="foreign">
                <param name="property">user</param>
            </generator>
        </id>
        <property name="street">
            <column name="STREET"/>
        </property>
        <property name="zipcode">
            <column name="ZIPCODE"/>
        </property>
        <property name="city">
            <column name="CITY"/>
        </property>
        <one-to-one name="user" class="User" constrained="true"/>
    </class>
</hibernate-mapping>

<!--
    create table ADDRESS (
        ADDRESS_ID bigint not null,
        STREET varchar(255),
        ZIPCODE varchar(255),
        CITY varchar(255),
        primary key (ADDRESS_ID)
    )
    create table USER (
        USER_ID bigint generated by default as identity,
        NAME varchar(255),
        primary key (USER_ID)
    )
    alter table ADDRESS
       add constraint FKg0ov2ajftu45eysj5setg9s9h
       foreign key (ADDRESS_ID)
       references USER
-->
<?xml version="1.0"?>
<!-- chapter6_mapping_map -->
<!DOCTYPE hibernate-mapping SYSTEM "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="com.gunjan"
                   default-access="field">
    <class name="Item" table="ITEM">
        <id name="id" type="long" column="ITEM_ID">
            <generator class="native"/>
        </id>
        <property name="name" column="ITEM_NAME" type="string"
                  not-null="true"/>
        <map name="images" table="ITEM_IMAGE">
            <key column="ITEM_ID"/>
            <map-key column="IMAGENAME" type="string"/>
            <element type="string" column="FILE_NAME" not-null="true"/>
        </map>
    </class>
</hibernate-mapping>
<!--
    create table ITEM (
        ITEM_ID bigint generated by default as identity,
        ITEM_NAME varchar(255) not null,
        primary key (ITEM_ID)
    )
    create table ITEM_IMAGE (
        ITEM_ID bigint not null,
        IMAGENAME varchar(255) not null,
        FILE_NAME varchar(255) not null,
        primary key (ITEM_ID, IMAGENAME)
    )
    alter table ITEM_IMAGE
        add constraint FKk58m0deky98d262k1516p8p3t
        foreign key (ITEM_ID)
        references ITEM
-->
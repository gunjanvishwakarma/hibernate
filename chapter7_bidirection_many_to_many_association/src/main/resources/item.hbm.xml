<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping SYSTEM "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" >
<!-- chapter7_bidirection_many_to_many_association -->
<hibernate-mapping package="com.gunjan">
    <class name="Item" table="ITEM">
        <id name="id" type="long" column="ITEM_ID">
            <generator class="native"></generator>
        </id>
        <property name="name" column="NAME"/>
        <set name="categories" table="CATEGORY_ITEM" cascade="save-update,delete-orphan">
            <key column="ITEM_ID"/>
            <many-to-many class="Category" column="CATEGORY_ID"/>
        </set>
    </class>
</hibernate-mapping>
<!--
    create table CATEGORY (
        CATEGORY_ID bigint generated by default as identity,
        NAME varchar(255),
        primary key (CATEGORY_ID)
    )
    create table ITEM (
        ITEM_ID bigint generated by default as identity,
        NAME varchar(255),
        primary key (ITEM_ID)
    )
    create table CATEGORY_ITEM (
        CATEGORY_ID bigint not null,
        ITEM_ID bigint not null,
        primary key (ITEM_ID, CATEGORY_ID)
    )
   
    alter table CATEGORY_ITEM
        add constraint FK84m2holhw90vjna13kpijnmyu
        foreign key (ITEM_ID)
        references ITEM
    alter table CATEGORY_ITEM
        add constraint FKt5qdpiypqvu0wfwsme7w8bx3o
        foreign key (CATEGORY_ID)
        references CATEGORY
-->